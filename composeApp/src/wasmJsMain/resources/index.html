<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- SEO Meta Tags -->
    <title>Alvaro Quintana | Mobile & AI Developer | Kotlin, KMP, AI Agents</title>
    <meta name="description" content="Senior Mobile Developer & AI Specialist. +12 years building Android, iOS, and KMP apps. Expert in Kotlin Multiplatform, Jetpack Compose, and AI Agent Orchestration with Claude, LangChain, MCP.">
    <meta name="keywords" content="Kotlin Developer, Android Developer, KMP, Kotlin Multiplatform, AI Agent, Claude, LangChain, Mobile Developer Madrid, Jetpack Compose">
    <meta name="author" content="Alvaro Quintana">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Alvaro Quintana | Mobile & AI Developer">
    <meta property="og:description" content="Senior Mobile Developer & AI Specialist. Expert in Kotlin Multiplatform and AI Agent Orchestration.">
    <meta property="og:url" content="https://alvaroquintana.dev/">
    <meta property="og:site_name" content="Alvaro Quintana Portfolio">
    <meta property="og:locale" content="es_ES">
    <meta property="og:locale:alternate" content="en_US">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Alvaro Quintana | Mobile & AI Developer">
    <meta name="twitter:description" content="Senior Mobile Developer & AI Specialist. Expert in KMP and AI Agents.">

    <!-- Favicon & PWA -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="favicon.svg">
    <meta name="theme-color" content="#00FFFF">

    <!-- Language Alternates -->
    <link rel="alternate" hreflang="es" href="https://alvaroquintana.dev/?lang=es">
    <link rel="alternate" hreflang="en" href="https://alvaroquintana.dev/?lang=en">
    <link rel="alternate" hreflang="x-default" href="https://alvaroquintana.dev/">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://alvaroquintana.dev/">
    <style>
        /* CSS Variables for theming */
        :root {
            --bg-color: #0A0A0F;
            --banner-bg: linear-gradient(90deg, rgba(10, 10, 15, 0.98) 0%, rgba(25, 25, 35, 0.98) 50%, rgba(10, 10, 15, 0.98) 100%);
            --banner-border: rgba(0, 255, 255, 0.4);
            --text-color: #E0E0E0;
            --accent-color: #00FFFF;
        }

        [data-theme="light"] {
            --bg-color: #F0F0F8;
            --banner-bg: linear-gradient(90deg, rgba(240, 240, 248, 0.98) 0%, rgba(232, 232, 240, 0.98) 50%, rgba(240, 240, 248, 0.98) 100%);
            --banner-border: rgba(0, 184, 184, 0.6);
            --text-color: #1A1A2E;
            --accent-color: #00B8B8;
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: var(--bg-color);
            transition: background 0.3s ease;
        }

        #ComposeTarget {
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            right: 0 !important;
            bottom: 0 !important;
            width: 100% !important;
            height: 100% !important;
        }
    </style>
</head>
<body>
    <canvas id="ComposeTarget"></canvas>
    <script>
        // Global error handling for WASM
        window.onerror = function(message, source, lineno, colno, error) {
            console.error('[WASM Error]', message, source, lineno, colno);
            // Show user-friendly error message
            var canvas = document.getElementById('ComposeTarget');
            if (canvas && !document.getElementById('errorOverlay')) {
                var overlay = document.createElement('div');
                overlay.id = 'errorOverlay';
                overlay.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);' +
                    'background:rgba(10,10,15,0.95);border:1px solid #FF0080;border-radius:12px;' +
                    'padding:32px;text-align:center;font-family:monospace;color:#E0E0E0;z-index:9999;max-width:400px;';
                overlay.innerHTML = '<h2 style="color:#FF0080;margin:0 0 16px">[ SYSTEM ERROR ]</h2>' +
                    '<p>An unexpected error occurred. Please refresh the page.</p>' +
                    '<button onclick="location.reload()" style="margin-top:16px;padding:12px 24px;' +
                    'background:transparent;border:1px solid #00FFFF;color:#00FFFF;cursor:pointer;' +
                    'border-radius:8px;font-family:monospace;font-weight:bold;">[ RELOAD ]</button>';
                document.body.appendChild(overlay);
            }
            return false;
        };

        // Unhandled promise rejections
        window.addEventListener('unhandledrejection', function(event) {
            console.error('[WASM Promise Rejection]', event.reason);
        });

        // Initialize theme from localStorage
        (function() {
            var savedTheme = localStorage.getItem('portfolio_theme') || 'dark';
            if (savedTheme === 'light') {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('[PWA] Service Worker registered:', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('[PWA] Service Worker registration failed:', error);
                    });
            });
        }
    </script>
    <script type="application/javascript" src="composeApp.js"></script>
</body>
</html>
